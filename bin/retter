#!/usr/bin/env ruby
# coding: utf-8

$LOAD_PATH.unshift File.dirname(__FILE__) + '/../lib'

require 'retter'

Retter.load ENV

case ARGV[0]
when 'new'
  Retter::Generator::Creator.start ARGV[1..-1]
when 'gen'
  Retter::Generator::Updator.start ARGV[1..-1]
else
  begin
    Retter::Command.start
  rescue Errno::ENOENT
    $stderr.puts "Some files might be broken. run `retter gen $RETTER_HOME`"
    raise
  end
end
